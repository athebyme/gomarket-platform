# GoMarket Platform

GoMarket Platform - это современная микросервисная платформа для электронной коммерции с поддержкой множества маркетплейсов и поставщиков.

## Обзор архитектуры

Платформа построена на микросервисной архитектуре, где каждый сервис отвечает за конкретную бизнес-область. Сервисы взаимодействуют через Apache Kafka и REST API, что обеспечивает слабую связность и высокую масштабируемость.

```
gomarket-platform/
├── pkg/                       # Общие пакеты для всех сервисов
│   ├── interfaces/            # Общие интерфейсы
│   ├── tx/                    # Менеджер транзакций
│   └── errors/                # Стандартные ошибки
│
├── services/                  # Микросервисы
│   ├── product-service/       # Управление продуктами и категориями
│   ├── marketplace-service/   # Интеграция с маркетплейсами
│   ├── supplier-service/      # Интеграция с поставщиками
│   └── ...
```

## Микросервисы

### Product Service

Сервис управления продуктами, отвечающий за создание, обновление, удаление и получение информации о продуктах. Поддерживает категоризацию, управление ценами и инвентарем.

- **Технологии**: Go, PostgreSQL, Redis, Kafka
- **Репозиторий**: [Product Service](./services/product-service)
- **API**: RESTful API с документацией Swagger
- **Особенности**: Мультитенантность, кэширование, событийная архитектура

### Marketplace Service

Сервис интеграции с маркетплейсами, который отвечает за синхронизацию товаров, цен и запасов с различными маркетплейсами (Ozon, Wildberries и др.), а также обрабатывает поступающие заказы.

- **Технологии**: Go, PostgreSQL, Kafka
- **Репозиторий**: [Marketplace Service](./services/marketplace-service)
- **API**: RESTful API + API маркетплейсов

### Supplier Service

Сервис интеграции с поставщиками, обеспечивающий получение информации о товарах, ценах и остатках от поставщиков.

- **Технологии**: Go, PostgreSQL, Kafka
- **Репозиторий**: [Supplier Service](./services/supplier-service)
- **API**: RESTful API + FTP/SFTP/API интеграции с поставщиками

## Общие компоненты

### Инфраструктура

- **База данных**: PostgreSQL 14
- **Кэширование**: Redis 7
- **Очереди сообщений**: Apache Kafka 3
- **Трассировка**: Jaeger
- **Мониторинг**: Prometheus + Grafana
- **Контейнеризация**: Docker и Docker Compose
- **CI/CD**: GitHub Actions

### Безопасность

Платформа обеспечивает безопасность на нескольких уровнях:

- **Аутентификация**: JWT-токены с RSA-подписью
- **Авторизация**: Система ролей и разрешений (RBAC)
- **API-безопасность**: Защита от CSRF, rate limiting, безопасные HTTP-заголовки
- **Мультитенантность**: Изоляция данных разных клиентов

## Начало работы

### Предварительные требования

- Go 1.23+
- Docker и Docker Compose
- PostgreSQL 14+
- Redis 7+
- Apache Kafka 3+

### Установка

1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/athebyme/gomarket-platform.git
   cd gomarket-platform
   ```

2. Запуск всех сервисов:
   ```bash
   docker-compose up -d
   ```

Более подробные инструкции по установке и настройке каждого сервиса можно найти в соответствующих README-файлах в директориях сервисов.

## Документация

### API-документация

- Product Service: http://localhost:8081/swagger/
- Marketplace Service: http://localhost:8082/swagger/
- Supplier Service: http://localhost:8083/swagger/

### Мониторинг

- Grafana: http://localhost:3000 (admin/admin)
- Prometheus: http://localhost:9090
- Jaeger: http://localhost:16686

## Разработка

### Структура директорий сервисов

Каждый сервис следует одинаковой структуре директорий:

```
service/
├── cmd/                     # Точки входа
├── config/                  # Конфигурация
├── internal/                # Внутренние пакеты
│   ├── adapters/            # Адаптеры для внешних систем
│   ├── api/                 # API-слой
│   ├── domain/              # Бизнес-логика
│   └── utils/               # Утилиты
├── migrations/              # Миграции базы данных
├── docs/                    # Документация
```

### Принципы

- **Clean Architecture**: Явное разделение слоев и сфер ответственности
- **Domain-Driven Design**: Бизнес-логика в центре архитектуры
- **Event-Driven Architecture**: Асинхронное взаимодействие через события
- **Двенадцатифакторное приложение**: Соблюдение принципов 12-factor app

## Вклад в проект

Я приветствую вклад в развитие платформы. Пожалуйста, ознакомьтесь с нашим перед отправкой pull request.

## Лицензия

Copyright © 2025 GoMarket Platform